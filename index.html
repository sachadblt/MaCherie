<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pour Ma Ch√©rie ‚ù§Ô∏è</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: #ffeff3;
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    
    header {
      padding: 30px 0;
      animation: fadeIn 1s ease;
    }
    
    h1 {
      color: #ff6b9c;
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    
    h2 {
      color: #ff6b9c;
      font-size: 1.8rem;
      margin: 25px 0 15px;
    }
    
    p {
      margin-bottom: 15px;
      font-size: 1.1rem;
    }
    
    .heart {
      color: #ff4081;
      font-size: 1.5em;
      animation: pulse 1.5s infinite;
      display: inline-block;
    }
    
    .section {
      background-color: white;
      border-radius: 15px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.8s ease;
    }
    
    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    button {
      background-color: #ff6b9c;
      color: white;
      border: none;
      border-radius: 50px;
      padding: 12px 30px;
      font-size: 1rem;
      cursor: pointer;
      margin: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    
    button:hover {
      background-color: #ff4081;
      transform: translateY(-3px);
      box-shadow: 0 5px 10px rgba(0,0,0,0.2);
    }
    
    #love-question {
      font-size: 1.8rem;
      font-weight: bold;
      color: #ff4081;
      margin: 30px 0;
    }
    
    #quiz-container, #memory-game, #love-letter, #photo-puzzle {
      margin-top: 40px;
    }
    
    #love-response {
      font-size: 2rem;
      color: #ff4081;
      margin: 20px 0;
      font-weight: bold;
      opacity: 0;
      transition: opacity 1s ease;
    }
    
    #no-btn {
      position: relative;
    }
    
    #quiz-result {
      margin: 20px 0;
      font-weight: bold;
      font-size: 1.2rem;
    }
    
    /* Memory game styling */
    .memory-board {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 20px auto;
      max-width: 400px;
    }
    
    .card {
      height: 80px;
      background-color: #ff9fbf;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .card.flipped {
      background-color: white;
      transform: rotateY(180deg);
    }
    
    .card.matched {
      background-color: #c8e6c9;
      cursor: default;
    }
    
    .card-content {
      display: none;
    }
    
    .card.flipped .card-content {
      display: block;
    }

    /* Photo puzzle section */
    #photo-upload {
      margin: 20px 0;
    }
    
    #photo-upload-label {
      display: inline-block;
      padding: 12px 30px;
      background-color: #ff6b9c;
      color: white;
      border-radius: 50px;
      cursor: pointer;
      margin: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    
    #photo-upload-label:hover {
      background-color: #ff4081;
      transform: translateY(-3px);
      box-shadow: 0 5px 10px rgba(0,0,0,0.2);
    }
    
    #photo-input {
      display: none;
    }
    
    #puzzle-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 20px auto;
      border: 2px solid #ff6b9c;
      border-radius: 10px;
      overflow: hidden;
    }
    
    @media (max-width: 400px) {
      #puzzle-container {
        width: 260px;
        height: 260px;
      }
    }
    
    .puzzle-piece {
      position: absolute;
      background-size: 300px 300px;
      border: 1px solid white;
      cursor: move;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      transition: transform 0.1s;
    }
    
    @media (max-width: 400px) {
      .puzzle-piece {
        background-size: 260px 260px;
      }
    }
    
    .puzzle-piece.correct {
      border-color: #4caf50;
      box-shadow: 0 0 5px #4caf50;
    }
    
    #puzzle-message {
      margin: 15px 0;
      font-weight: bold;
      height: 50px;
    }
    
    #puzzle-preview {
      max-width: 100px;
      max-height: 100px;
      margin: 10px auto;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: none;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    .floating {
      animation: float 3s ease-in-out infinite;
    }
    
    /* Confetti effect */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #f0f;
      border-radius: 0;
      pointer-events: none;
      z-index: 99;
    }
    
    /* Love letter */
    .letter {
      background-color: white;
      border-radius: 15px;
      padding: 30px;
      text-align: left;
      position: relative;
      margin: 30px auto;
      max-width: 600px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      font-family: 'Courier New', Courier, monospace;
      display: none;
    }
    
    .letter:before {
      content: '';
      position: absolute;
      top: -10px;
      right: 20px;
      width: 30px;
      height: 30px;
      background-color: #ff4081;
      transform: rotate(45deg);
      z-index: -1;
    }
    
    .letter p {
      margin-bottom: 15px;
      line-height: 1.8;
    }
    
    .signature {
      font-style: italic;
      text-align: right;
      margin-top: 20px;
    }
    
    #progress {
      height: 5px;
      background-color: #ff4081;
      width: 0%;
      transition: width 0.5s ease;
      margin: 10px 0;
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Pour Ma Ch√©rie <span class="heart">‚ù§Ô∏è</span></h1>
      <p>Une page sp√©ciale pour la personne la plus sp√©ciale de ma vie</p>
    </header>
    
    <section id="main-question" class="section visible">
      <h2>La Question du Jour</h2>
      <p id="love-question">Est-ce que tu m'aimes ? <span class="heart">‚ù§Ô∏è</span></p>
      
      <button id="yes-btn">Oui, bien s√ªr !</button>
      <button id="no-btn">Non</button>
      
      <p id="love-response"></p>
    </section>
    
    <section id="quiz-container" class="section">
      <h2>Quiz d'Amour</h2>
      <p>Voyons combien tu me connais...</p>
      
      <div id="quiz-question"></div>
      <div id="quiz-options"></div>
      <div id="quiz-result"></div>
      <div id="progress"></div>
      
      <button id="next-question" style="display: none;">Question suivante</button>
    </section>
    
    <section id="memory-game" class="section">
      <h2>Jeu de M√©moire <span class="heart">‚ù§Ô∏è</span></h2>
      <p>Trouve toutes les paires d'√©mojis d'amour !</p>
      
      <div class="memory-board"></div>
      <p id="memory-result"></p>
    </section>
    
    <section id="love-letter" class="section">
      <h2>Lettre d'Amour</h2>
      <p>Clique sur le bouton pour ouvrir ma lettre</p>
      
      <button id="show-letter">Ouvrir la lettre</button>
      
      <div class="letter" id="letter-content">
        <p>Ma ch√©rie,</p>
        <p>Parfois les mots ne suffisent pas pour exprimer ce que je ressens pour toi. Chaque jour pass√© √† tes c√¥t√©s est un cadeau que je ch√©ris profond√©ment.</p>
        <p>Tu illumines ma vie avec ton sourire, ton rire, ta tendresse. Tu me rends meilleur chaque jour et je suis reconnaissant pour tous les moments que nous partageons ensemble.</p>
        <p>Je t'aime pour qui tu es, pour ta force, ta gentillesse, ton intelligence et toutes ces petites choses qui te rendent unique et irrempla√ßable √† mes yeux.</p>
        <p>Merci d'√™tre toi, merci d'√™tre √† mes c√¥t√©s.</p>
        <p class="signature">Avec tout mon amour,<br>Ton amoureux</p>
      </div>
    </section>
    
    <!-- Nouvelle section puzzle photo -->
    <section id="photo-puzzle" class="section">
      <h2>Puzzle Photo <span class="heart">‚ù§Ô∏è</span></h2>
      <p>T√©l√©charge une photo de nous et r√©sous le puzzle!</p>
      
      <div id="photo-upload">
        <label for="photo-input" id="photo-upload-label">Choisir une photo</label>
        <input type="file" id="photo-input" accept="image/*">
      </div>
      
      <img id="puzzle-preview" alt="Aper√ßu">
      
      <div id="puzzle-container"></div>
      
      <p id="puzzle-message">T√©l√©charge une photo pour commencer le puzzle!</p>
      
      <button id="restart-puzzle" style="display: none;">Recommencer le puzzle</button>
    </section>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Reveal sections as you scroll
      const sections = document.querySelectorAll('.section:not(.visible)');
      
      function checkScroll() {
        sections.forEach(section => {
          const sectionTop = section.getBoundingClientRect().top;
          const windowHeight = window.innerHeight;
          
          if (sectionTop < windowHeight * 0.8) {
            section.classList.add('visible');
          }
        });
      }
      
      window.addEventListener('scroll', checkScroll);
      
      // Love question functionality
      const yesBtn = document.getElementById('yes-btn');
      const noBtn = document.getElementById('no-btn');
      const loveResponse = document.getElementById('love-response');
      
      yesBtn.addEventListener('click', function() {
        loveResponse.textContent = 'Je t\'aime aussi, √©norm√©ment! ‚ù§Ô∏è';
        loveResponse.style.opacity = '1';
        createConfetti();
      });
      
      // Make the "No" button run away
      noBtn.addEventListener('mouseover', function() {
        const maxX = window.innerWidth - this.offsetWidth;
        const maxY = window.innerHeight - this.offsetHeight;
        
        const randomX = Math.floor(Math.random() * maxX);
        const randomY = Math.floor(Math.random() * maxY);
        
        this.style.position = 'absolute';
        this.style.left = randomX + 'px';
        this.style.top = randomY + 'px';
      });
      
      noBtn.addEventListener('click', function() {
        loveResponse.textContent = 'Je sais que tu m\'aimes! Ne mens pas! üòò';
        loveResponse.style.opacity = '1';
      });
      
      // Quiz functionality
      const questions = [
        {
          question: 'Quel est mon plat pr√©f√©r√©?',
          options: ['Pizza', 'Sushi', 'P√¢tes', 'Salade'],
          correctIndex: 1, // Change this to the correct answer
        },
        {
          question: 'Quelle est ma couleur pr√©f√©r√©e?',
          options: ['Bleu', 'Rouge', 'Vert', 'Noir'],
          correctIndex: 0, // Change this to the correct answer
        },
        {
          question: 'Que pr√©f√©rerais-je faire un samedi apr√®s-midi?',
          options: ['Netflix & Chill', 'Sortie en nature', 'Shopping', 'Jeux vid√©o'],
          correctIndex: 0, // Change this to the correct answer
        },
        {
          question: 'Quelle est mon animal favori?',
          options: ['Chat', 'Chien', 'Panda', 'Dauphin'],
          correctIndex: 0, // Change this to the correct answer
        },
        {
          question: 'Quelle qualit√© appr√©cies-tu le plus chez moi?',
          options: ['Mon humour', 'Ma gentillesse', 'Mon intelligence', 'Ma cr√©ativit√©'],
          correctIndex: 0, // Change this to the correct answer
        }
      ];
      
      let currentQuestionIndex = 0;
      let score = 0;
      
      const quizQuestion = document.getElementById('quiz-question');
      const quizOptions = document.getElementById('quiz-options');
      const quizResult = document.getElementById('quiz-result');
      const nextQuestionBtn = document.getElementById('next-question');
      const progressBar = document.getElementById('progress');
      
      function displayQuestion() {
        const question = questions[currentQuestionIndex];
        quizQuestion.innerHTML = `<p>${question.question}</p>`;
        
        quizOptions.innerHTML = '';
        question.options.forEach((option, index) => {
          const button = document.createElement('button');
          button.textContent = option;
          button.addEventListener('click', () => checkAnswer(index));
          quizOptions.appendChild(button);
        });
        
        updateProgress();
      }
      
      function checkAnswer(selectedIndex) {
        const question = questions[currentQuestionIndex];
        
        if (selectedIndex === question.correctIndex) {
          score++;
          quizResult.textContent = '‚úÖ Correct!';
          quizResult.style.color = '#4caf50';
        } else {
          quizResult.textContent = `‚ùå Non, la bonne r√©ponse √©tait: ${question.options[question.correctIndex]}`;
          quizResult.style.color = '#f44336';
        }
        
        const optionButtons = quizOptions.querySelectorAll('button');
        optionButtons.forEach((button, index) => {
          button.disabled = true;
          if (index === question.correctIndex) {
            button.style.backgroundColor = '#4caf50';
          } else if (index === selectedIndex && selectedIndex !== question.correctIndex) {
            button.style.backgroundColor = '#f44336';
          }
        });
        
        currentQuestionIndex++;
        
        if (currentQuestionIndex < questions.length) {
          nextQuestionBtn.style.display = 'inline-block';
        } else {
          setTimeout(() => {
            quizResult.textContent = `Quiz termin√©! Ton score: ${score}/${questions.length}`;
            quizResult.style.color = '#ff4081';
            
            if (score === questions.length) {
              quizResult.textContent += ' - Tu me connais parfaitement! ‚ù§Ô∏è';
              createConfetti();
            } else if (score >= questions.length / 2) {
              quizResult.textContent += ' - Pas mal du tout! üòä';
            } else {
              quizResult.textContent += ' - On dirait qu\'on doit passer plus de temps ensemble! üòâ';
            }
          }, 1000);
        }
      }
      
      nextQuestionBtn.addEventListener('click', function() {
        quizResult.textContent = '';
        nextQuestionBtn.style.display = 'none';
        displayQuestion();
      });
      
      function updateProgress() {
        const progressPercentage = (currentQuestionIndex / questions.length) * 100;
        progressBar.style.width = progressPercentage + '%';
      }
      
      // Memory game functionality
      const memoryBoard = document.querySelector('.memory-board');
      const memoryResult = document.getElementById('memory-result');
      const symbols = ['‚ù§Ô∏è', 'üíï', 'üòò', 'üíñ', 'üåπ', 'üíó', 'üíì', 'üíû'];
      let cards = [...symbols, ...symbols];
      let flippedCards = [];
      let matchedPairs = 0;
      
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }
      
      function createMemoryGame() {
        cards = shuffleArray(cards);
        memoryBoard.innerHTML = '';
        
        cards.forEach((symbol, index) => {
          const card = document.createElement('div');
          card.classList.add('card');
          card.dataset.index = index;
          card.dataset.symbol = symbol;
          
          card.innerHTML = `<div class="card-content">${symbol}</div>`;
          
          card.addEventListener('click', flipCard);
          memoryBoard.appendChild(card);
        });
      }
      
      function flipCard() {
        if (flippedCards.length >= 2 || this.classList.contains('flipped') || this.classList.contains('matched')) {
          return;
        }
        
        this.classList.add('flipped');
        flippedCards.push(this);
        
        if (flippedCards.length === 2) {
          setTimeout(checkForMatch, 500);
        }
      }
      
      function checkForMatch() {
        const [card1, card2] = flippedCards;
        
        if (card1.dataset.symbol === card2.dataset.symbol) {
          card1.classList.add('matched');
          card2.classList.add('matched');
          matchedPairs++;
          
          if (matchedPairs === symbols.length) {
            memoryResult.textContent = 'F√©licitations! Tu as trouv√© toutes les paires! üíï';
            createConfetti();
          }
        } else {
          card1.classList.remove('flipped');
          card2.classList.remove('flipped');
        }
        
        flippedCards = [];
      }
      
      // Love letter functionality
      const showLetterBtn = document.getElementById('show-letter');
      const letterContent = document.getElementById('letter-content');
      
      showLetterBtn.addEventListener('click', function() {
        if (letterContent.style.display === 'block') {
          letterContent.style.display = 'none';
          showLetterBtn.textContent = 'Ouvrir la lettre';
        } else {
          letterContent.style.display = 'block';
          showLetterBtn.textContent = 'Fermer la lettre';
          createConfetti();
        }
      });
      
      // Photo puzzle functionality
      const photoInput = document.getElementById('photo-input');
      const puzzleContainer = document.getElementById('puzzle-container');
      const puzzleMessage = document.getElementById('puzzle-message');
      const puzzlePreview = document.getElementById('puzzle-preview');
      const restartPuzzleBtn = document.getElementById('restart-puzzle');
      
      // Dimensions du puzzle
      const PUZZLE_SIZE = 3; // 3x3 puzzle
      const TOTAL_PIECES = PUZZLE_SIZE * PUZZLE_SIZE;
      let puzzlePieces = [];
      let correctPositions = [];
      let selectedPiece = null;
      let startX, startY, pieceX, pieceY;
      let puzzleComplete = false;
      let photoURL = null;
      
      // Gestionnaires d'√©v√©nements tactiles et souris pour le drag and drop
      function handleStart(e) {
        if (puzzleComplete) return;
        
        // Emp√™cher le comportement par d√©faut pour √©viter les probl√®mes sur mobile
        e.preventDefault();
        
        // Obtenir l'√©l√©ment cliqu√©/touch√©
        selectedPiece = e.target;
        if (!selectedPiece.classList.contains('puzzle-piece')) return;
        
        // Mettre la pi√®ce au-dessus des autres
        selectedPiece.style.zIndex = '10';
        
        // Coordonn√©es de d√©part
        if (e.type === 'mousedown') {
          startX = e.clientX;
          startY = e.clientY;
        } else if (e.type === 'touchstart') {
          startX = e.touches[0].clientX;
          startY = e.touches[0].clientY;
        }
        
        // Position actuelle de la pi√®ce
        pieceX = parseFloat(selectedPiece.style.left) || 0;
        pieceY = parseFloat(selectedPiece.style.top) || 0;
      }
      
      function handleMove(e) {
        if (!selectedPiece) return;
        e.preventDefault();
        
        let moveX, moveY;
        
        if (e.type === 'mousemove') {
          moveX = e.clientX - startX;
          moveY = e.clientY - startY;
        } else if (e.type === 'touchmove') {
          moveX = e.touches[0].clientX - startX;
          moveY = e.touches[0].clientY - startY;
        }
        
        // D√©placer la pi√®ce
        selectedPiece.style.left = pieceX + moveX + 'px';
        selectedPiece.style.top = pieceY + moveY + 'px';
      }
      
      function handleEnd(e) {
        if (!selectedPiece) return;
        
        // V√©rifier si la pi√®ce est proche de sa position correcte
        const index = parseInt(selectedPiece.dataset.index);
        const containerRect = puzzleContainer.getBoundingClientRect();
        const pieceRect = selectedPiece.getBoundingClientRect();
        
        const pieceSize = containerRect.width / PUZZLE_SIZE;
        const row = Math.floor(index / PUZZLE_SIZE);
        const col = index % PUZZLE_SIZE;
        
        const correctX = col * pieceSize;
        const correctY = row * pieceSize;
        
        const currentX = pieceRect.left - containerRect.left;
        const currentY = pieceRect.top - containerRect.top;
        
        // Si la pi√®ce est proche de sa position correcte
        if (Math.abs(currentX - correctX) < 20 && Math.abs(currentY - correctY) < 20) {
          selectedPiece.style.left = correctX + 'px';
          selectedPiece.style.top = correctY + 'px';
          selectedPiece.classList.add('correct');
          correctPositions[index] = true;
          
          // V√©rifier si le puzzle est complet
          if (correctPositions.every(pos => pos === true)) {
            puzzleComplete = true;
            puzzleMessage.textContent = 'F√©licitations! Tu as r√©solu le puzzle! ‚ù§Ô∏è';
            puzzleMessage.style.color = '#ff4081';
            createConfetti();
          }
        }
        
        selectedPiece.style.zIndex = '1';
        selectedPiece = null;
      }
      
      // Cr√©er le puzzle √† partir d'une image
      function createPuzzle(imageUrl) {
        puzzleContainer.innerHTML = '';
        puzzleComplete = false;
        correctPositions = Array(TOTAL_PIECES).fill(false);
        puzzlePieces = [];
        
        // Afficher l'aper√ßu
        puzzlePreview.src = imageUrl;
        puzzlePreview.style.display = 'block';
        
        // Obtenir les dimensions du conteneur
        const containerWidth = puzzleContainer.clientWidth;
        const pieceSize = containerWidth / PUZZLE_SIZE;
        
        // Cr√©er les pi√®ces du puzzle
        for (let i = 0; i < TOTAL_PIECES; i++) {
          const piece = document.createElement('div');
          piece.classList.add('puzzle-piece');
          piece.dataset.index = i;
          
          // Calculer la position d'origine dans l'image
          const row = Math.floor(i / PUZZLE_SIZE);
          const col = i % PUZZLE_SIZE;
          
          piece.style.width = pieceSize + 'px';
          piece.style.height = pieceSize + 'px';
          piece.style.backgroundImage = `url(${imageUrl})`;
          piece.style.backgroundPosition = `-${col * pieceSize}px -${row * pieceSize}px`;
          
          puzzlePieces.push({
            element: piece,
            correctX: col * pieceSize,
            correctY: row * pieceSize
          });
          
          puzzleContainer.appendChild(piece);
        }
        
        // M√©langer les pi√®ces
        shufflePieces();
        
        // Activer le bouton de red√©marrage
        restartPuzzleBtn.style.display = 'inline-block';
        
        // Mettre √† jour le message
        puzzleMessage.textContent = 'Fais glisser les pi√®ces pour reconstituer l\'image!';
      }
      
      // M√©langer les pi√®ces du puzzle
      function shufflePieces() {
        const containerWidth = puzzleContainer.clientWidth;
        const pieceSize = containerWidth / PUZZLE_SIZE;
        
        puzzlePieces.forEach(piece => {
          // Position al√©atoire dans le conteneur
          const randomX = Math.random() * (containerWidth - pieceSize);
          const randomY = Math.random() * (containerWidth - pieceSize);
          
          piece.element.style.left = randomX + 'px';
          piece.element.style.top = randomY + 'px';
          piece.element.classList.remove('correct');
        });
      }
      
      // Gestionnaire d'√©v√©nement pour le chargement de photo
      photoInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        // V√©rifier si c'est une image
        if (!file.type.match('image.*')) {
          puzzleMessage.textContent = 'Veuillez s√©lectionner une image.';
          puzzleMessage.style.color = '#f44336';
          return;
        }
        
        // R√©voquer l'URL pr√©c√©dente pour lib√©rer la m√©moire
        if (photoURL) {
          URL.revokeObjectURL(photoURL);
        }
        
        // Cr√©er une URL pour l'image
        photoURL = URL.createObjectURL(file);
        
        // Cr√©er le puzzle avec cette image
        createPuzzle(photoURL);
      });
      
      // √âv√©nement pour red√©marrer le puzzle
      restartPuzzleBtn.addEventListener('click', function() {
        if (photoURL) {
          shufflePieces();
          puzzleComplete = false;
          correctPositions = Array(TOTAL_PIECES).fill(false);
          puzzleMessage.textContent = 'Fais glisser les pi√®ces pour reconstituer l\'image!';
          puzzleMessage.style.color = '#333';
        }
      });
      
      // Ajouter les gestionnaires d'√©v√©nements tactiles et souris au conteneur
      puzzleContainer.addEventListener('mousedown', handleStart);
      puzzleContainer.addEventListener('touchstart', handleStart, { passive: false });
      
      window.addEventListener('mousemove', handleMove);
      window.addEventListener('touchmove', handleMove
